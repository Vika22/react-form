(this["webpackJsonplogin-test"]=this["webpackJsonplogin-test"]||[]).push([[0],{32:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(0),r=a.n(s),n=a(25),i=a.n(n),l=(a(32),a(10)),j=a(14),o=r.a.createContext(),b=a(6),d=a(12),u=a.n(d),O=a(41),h=function(e){var t=e.auth,a=Object(s.useState)(u.a.getJSON()),n=Object(l.a)(a,2),i=n[0],j=n[1];return Object(c.jsx)("div",{children:t?Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Email"}),Object(c.jsx)("th",{scope:"col",children:"Name"}),Object(c.jsx)("th",{scope:"col"})]})}),Object.values(i).map((function(e){return Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.email}),Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:Object(c.jsx)(O.a,{onClick:function(){return function(e){var t=u.a.getJSON();return delete t[e],j(t),u.a.remove(e),Object(c.jsx)(b.a,{to:"/list"})}(e.email)},children:"Remove"})})]},e.email)})}))]})," "]}):Object(c.jsx)(b.a,{to:"/login"})})},m=a(13),x=a(7);a(23);function p(e){var t={};return e.username.trim()?e.username.length<=2&&(t.username="Username needs to be more than 2 characters"):t.username="Username required",e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email required",e.password?/((?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*\W))/.test(e.password)||(t.password="Password should contain special chars, upper case, lower case and number"):t.password="Password is required",t}var v=a(40),f={username:"1",email:"",password:""},g=function(e){var t=e.auth,a=Object(s.useContext)(o),r=Object(s.useState)(!1),n=Object(l.a)(r,2),i=n[0],j=n[1],d=Object(s.useState)({}),h=Object(l.a)(d,2),g=h[0],w=h[1],C=Object(s.useState)(f),S=Object(l.a)(C,2),y=S[0],N=S[1];return Object(c.jsx)("div",{className:"m-5",children:t?Object(c.jsx)(b.a,{to:"/list"}):Object(c.jsxs)(v.a,{onSubmit:function(e){if(e.preventDefault(),w(p(y)),0===Object.keys(g).length)for(var t in u.a.getJSON())u.a.getJSON()[t].email===y.email&&u.a.getJSON()[t].password===y.password&&a.setAuth(!0)},children:[Object(c.jsxs)(v.a.Group,{controlId:"formBasicEmail",children:[Object(c.jsx)(v.a.Label,{children:"Email address"}),Object(c.jsx)(v.a.Control,{type:"email",name:"email",value:y.email,onChange:function(e){var t=e.target,a=t.name,c=t.value;N((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},a,c))}))},placeholder:"Enter email"}),Object(c.jsx)("p",{className:"help text-danger",children:g.email})]}),Object(c.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(c.jsx)(v.a.Label,{children:"Password"}),Object(c.jsx)(v.a.Control,{type:i?"text":"password",placeholder:"Password",name:"password",value:y.password,onChange:function(e){var t=e.target,a=t.name,c=t.value;N((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},a,c))}))}}),Object(c.jsx)("p",{className:"help text-danger",children:g.password})]}),Object(c.jsx)(v.a.Group,{controlId:"formBasicCheckbox",children:Object(c.jsx)(v.a.Check,{type:"checkbox",onClick:function(){return j(!i)},label:"Show password"})}),Object(c.jsx)(O.a,{variant:"primary",type:"submit",children:"Submit"})]})})},w={email:"",username:"",password:""},C=function(e){var t=e.auth,a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=r[0],i=r[1],j=Object(s.useContext)(o),d=Object(s.useState)(w),h=Object(l.a)(d,2),f=h[0],g=h[1],C=Object(s.useState)({}),S=Object(l.a)(C,2),y=S[0],N=S[1];return Object(c.jsx)("div",{className:"m-5",children:t?Object(c.jsx)(b.a,{to:"/list"}):Object(c.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),N(p(f)),Object.keys(u.a.getJSON()).map((function(e){return e!==f.email?"":N((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},"email","User with this email address has already exist"))}))})),0===Object.keys(y).length&&""!==f.email&&""!==f.name&&""!==f.password&&(u.a.set(f.email,{email:f.email,username:f.username,password:f.password}),j.setAuth(!0))},children:[Object(c.jsxs)(v.a.Group,{controlId:"formBasicName",children:[Object(c.jsx)(v.a.Label,{children:"Name"}),Object(c.jsx)(v.a.Control,{type:"text",name:"username",value:f.username,onChange:function(e){var t=e.target,a=t.name,c=t.value;g((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},a,c))}))},placeholder:"Enter name"}),y.username&&Object(c.jsx)("p",{className:"help text-danger",children:y.username})]}),Object(c.jsxs)(v.a.Group,{controlId:"formBasicEmail",children:[Object(c.jsx)(v.a.Label,{children:"Email address"}),Object(c.jsx)(v.a.Control,{type:"email",name:"email",value:f.email,onChange:function(e){var t=e.target,a=t.name,c=t.value;g((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},a,c))}))},placeholder:"Enter email"}),y.email&&Object(c.jsx)("p",{className:"help text-danger",children:y.email})]}),Object(c.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(c.jsx)(v.a.Label,{children:"Password"}),Object(c.jsx)(v.a.Control,{type:n?"text":"password",placeholder:"Password",name:"password",value:f.password,onChange:function(e){var t=e.target,a=t.name,c=t.value;g((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},a,c))}))}}),y.password&&Object(c.jsx)("p",{className:"help text-danger",children:y.password})]}),Object(c.jsx)(v.a.Group,{controlId:"formBasicCheckbox",children:Object(c.jsx)(v.a.Check,{type:"checkbox",onClick:function(){return i(!n)},label:"Show password"})}),Object(c.jsx)(O.a,{variant:"primary",type:"submit",children:"Submit"})]})})},S=function(){var e=Object(s.useContext)(o);return Object(c.jsxs)("div",{children:[Object(c.jsx)(b.b,{path:"/login",children:Object(c.jsx)(g,{auth:e.auth})}),Object(c.jsx)(b.b,{path:"/register",children:Object(c.jsx)(C,{auth:e.auth})}),Object(c.jsx)(b.b,{path:"/list",children:Object(c.jsx)(h,{auth:e.auth})})]})};var y=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(c.jsx)("div",{children:Object(c.jsx)(o.Provider,{value:{auth:a,setAuth:r},children:Object(c.jsxs)(j.a,{children:[Object(c.jsxs)("nav",{className:"d-flex justify-content-center",children:[Object(c.jsx)(O.a,{variant:"light",children:Object(c.jsx)(j.b,{to:"/register",children:"Register"})}),Object(c.jsx)(O.a,{variant:"light",children:Object(c.jsx)(j.b,{to:"/login",children:"Login"})}),Object(c.jsx)(O.a,{variant:"light",children:Object(c.jsx)(j.b,{to:"/list",children:"List"})}),a?Object(c.jsx)(O.a,{onClick:function(){r(!1)},children:" Log out "}):""]}),Object(c.jsx)(S,{})]})})})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,42)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,n=t.getTTFB;a(e),c(e),s(e),r(e),n(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root")),N()}},[[39,1,2]]]);
//# sourceMappingURL=main.1ea36563.chunk.js.map